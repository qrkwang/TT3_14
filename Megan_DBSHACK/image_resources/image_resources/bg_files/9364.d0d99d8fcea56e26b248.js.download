"use strict";(globalThis.webpackChunkunsplash_web=globalThis.webpackChunkunsplash_web||[]).push([[9364],{219:(e,t,a)=>{a.d(t,{f:()=>D});var o=a(3735),r=a(1885),s=a(57717),n=a(45842),l=a(26145),i=a(12164),c=a(78913),h=a(66952),f=a(11324),d=a(68880),g=a(5434),z=a(53084),P=a(14426),b=a(2739);const m=e=>{const t=(e=>t=>{const a=(0,o.zG)(t,b.UI((([e,t,a])=>({hasFetchedAllPages:e,fetchDataParams:t,fetchDataAndBuildActions:a})))),r=(0,o.zG)(a,b.UP(e),b.EB((({fetchDataParams:e})=>e.page)),b.oE((({hasFetchedAllPages:e})=>!1===e)));return(0,o.zG)(r,b.Mm(a,((e,t)=>t)),b.zg((({fetchDataParams:e,fetchDataAndBuildActions:t})=>(0,o.zG)(t(e),P.XD(3)))))})((0,f.m)((({notifier$:e,footerRefOption$:t})=>a=>{const r=(0,o.zG)(a,b.UI((([e,t,a,o])=>({shouldDisableInfiniteScroll:e,fetchDataParams:t,intersectionObserverRoot:a,intersectionObserverRootMarginBottom:o})))),s=(0,o.zG)(r,b.DZ((({intersectionObserverRoot:e})=>e)),b.xb()),n=(0,o.zG)(r,b.UI((({intersectionObserverRootMarginBottom:e})=>e??2e3)),b.xb()),l=(0,o.zG)(r,b.UI((({fetchDataParams:e})=>e.page)),b.xb()),c=(0,o.zG)(b.aj([t,s,n,l]),b.wt((([e,t,a])=>(0,o.zG)(e,i.g_((()=>b.E_),(e=>(0,o.zG)(b.bH(e,{root:t,rootMargin:(0,z.Ae)({top:d.ZI,right:d.ZI,bottom:d.Ei(a),left:d.ZI})}),b.hX(z.Yu)))))))),h=(0,o.zG)(r,b.UI((e=>e.shouldDisableInfiniteScroll)),b.xb());return(0,o.zG)(r,b.UP(b.TS((0,o.zG)(b.aj([c,h]),b.hX((([e,t])=>!1===t))),e)))})({notifier$:e.notifier$,footerRefOption$:e.footerRefOption$}),[e.shouldDisableInfiniteScroll,e.fetchDataParams,e.intersectionObserverRoot,e.intersectionObserverRootMarginBottom])),a=[e.hasFetchedAllPages,e.fetchDataParams,e.fetchDataAndBuildActions],r=(0,f.m)(t,a);(0,g.Rd)(r)},p=({lastPageFetched:e,perPage:t,total:a})=>e>=(({total:e,perPage:t})=>Math.ceil(e/t))({total:a,perPage:t}),u=({feedState:e,feedItems:t,renderItems:a,getScrollFooterEl:r,...i})=>{const[f,d]=(0,s.m)((e=>(0,o.zG)(e,l.DZ))),g=h.Ye((()=>(({lastPageFetched:e,perPage:t,orderBy:a})=>({page:e+1,perPage:t,orderBy:a}))(e)),[e]),z=h.Ye((()=>p(e)),[e]);return m({fetchDataParams:g,hasFetchedAllPages:z,footerRefOption$:d,...i}),h.az(h.HY,null,a({items:t,hasFetchedAllPages:z,total:e.total}),h.az("div",{ref:f,...(0,c.N)(n.gZ)}),!1===z&&r())},D=({feedStateOption:e,feedItemsOption:t,getNoContentEl:a,getPlaceholderEl:s,...n})=>h.az(h.HY,null,(0,o.zG)(i.gz(e,t),i.UI((([e,t])=>(0,o.zG)(t,r.nI,i.g_(a,(t=>h.az(u,{feedState:e,feedItems:t,...n})))))),i.HV(s)))},81619:(e,t,a)=>{a.d(t,{H:()=>o});const o=e=>{const t=Symbol();let a=t;return()=>a===t?a=e():a}}}]);
//# sourceMappingURL=9364.d0d99d8fcea56e26b248.js.map